---
title: OpenID Connect
---

<div class="usa-alert usa-alert-warning">
  <div class="usa-alert-body">
    <h3 class="usa-alert-heading">Warning!</h3>
    <p class="usa-alert-text">This site is a work in progress and things might be wrong.</p>
  </div>
</div>

# OpenID Connect 1.0 Developer Guide

login.gov supports OpenID Connect 1.0, an extension of Oauth 2.0, specifically the [iGov Profile][igov-profile].

[igov-profile]: http://openid.net/wg/igov/

In this guide:

<!-- MarkdownTOC depth="4" autolink="true" bracket="round" -->

- [Developer Portal](#developer-portal)
- [Auto-Discovery](#auto-discovery)
- [Authorization](#authorization)
- [Getting a Token](#getting-a-token)

<!-- /MarkdownTOC -->

## Developer Portal

Visit $DASHBOARD_URL to register as a login.gov developer and to create `client_id` and `client_secret` values.

## Auto-Discovery

Per the spec, login.gov serves a JSON provides an auto-discovery endpoint for OpenID Connect at:

```
https://login.gov/.well-known/openid-configuration
```

## Authorization

Users must authorize OpenID Connect 1.0 clients individually. To present the authorize page for your application to a user, direct them to this URL in a browser with the correctly-configured URL parameters.

```
https://login.gov/openid_connect/authorize?
  client_id=$CLIENT_ID&
  response_type=code&
  acr_values=&
  scope=&
  redirect_uri=&
  state=$STATE&
  prompt=select_account
```

* **`client_id`** *required*

* **`response_type`** *required*
  Must be `code`

* **`acr_values`** *required*


* **`scope`** *required*
  Example: `openid email`

  Space separated string of scopes to request permission for.
  Possible values scopes:
   - `openid`
   - `address`
   - `email`
   - `phone`
   - `profile`

* **`redirect_uri`** *required*
  URI to redirect to and pass a result. This must be registered in advance in the [developer portal](#developer-portal).

* **`state`** *required*
  Unique value, will be returned in a successful authorization

* **`prompt`** *required*
  Must be `select_account`

* **`nonce`** *optional*
  Unique value that will be embedded into the `id_token` if present.

After the user authorizes the app, login.gov will redirect to the provided `redirect_uri` and add two URL parameters:

- **`code`**: a unique authorization code that the client can pass to the [token endpoint](#getting-a-token)
- **`state`**: the value provided by the client

Example

```
https://example.com/response?code=12345&state=abcdef
```

## Getting a Token

The token endpoint takes the authorization `code` and return an `id_token` as well as an `access_token`.

```
POST https://login.gov/openid_connect/token

grant_type=authorization_code&
client_assertion_type=urn:ietf:params:oauth:client-assertion-type:jwt-bearer&
code=$CODE&
client_assertion=$CLIENT_ASSERTION
```

* **`grant_type`** *required*
  Must be `authorization_code`

* **`client_assertion_type`** *required*
  Must be `urn:ietf:params:oauth:client-assertion-type:jwt-bearer`

* **`code`** *required*
  The URL parameter value from the `redirect_uri` in the Authorization step

* **`client_assertion`** *required*
  A [JWT][jwt] signed by the client's private key, including the following claims:

  * **`iss`** *required*
     the client ID
  * **`sub`** *required*
     the client ID
  * **`aud`** *required*
     the URL of the token endpoint, `https://login.gov/openid_connect/token`
  * **`jti`** *required*
     a random string generated by the client
  * **`exp`** *required*
     an integer timestamp (number of seconds from the Unix Epoch) of the expiration of the token, a short period of time in the future

[jwt]: https://jwt.io/
